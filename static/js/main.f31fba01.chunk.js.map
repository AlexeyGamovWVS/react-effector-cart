{"version":3,"sources":["components/cart/product.module.css","components/cart/products-container.module.css","ui/title/title.module.css","ui/main-button/main-button.module.css","components/cart/tab.module.css","ui/input/input.module.css","ui/promo-button/promo-button.module.css","components/common/total-price.module.css","components/app/app.module.css","components/cart/tabs.module.css","ui/amount-button/amount-button.module.css","ui/delete-button/delete-button.module.css","ui/loader/loader.module.css","models/cart/store.js","models/cart/events.js","images/prod-1.jpg","images/prod-2.jpg","services/fakeApi.js","images/rec-1.png","images/rec-2.png","images/rec-3.png","images/rec-4.png","models/cart/fx.js","models/cart/init.js","models/promo/store.js","models/promo/events.js","models/promo/fx.js","models/promo/init.js","ui/title/title.js","components/cart/tab.js","components/cart/tabs.js","models/cart/index.js","models/promo/index.js","ui/amount-button/amount-button.js","ui/delete-button/delete-button.js","components/cart/product.js","ui/input/input.js","ui/main-button/main-button.js","images/close.svg","ui/promo-button/promo-button.js","ui/loader/loader.svg.js","ui/loader/loader.js","components/cart/products-container.js","components/cart/index.js","components/common/total-price.js","components/app/app.js","reportWebVitals.js","index.js"],"names":["module","exports","$products","createStore","$isProductsLoading","$totalPrice","loadProducts","createEvent","increaseCount","decreaseCount","deleteProduct","getItemsRequest","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_context","prev","next","Promise","resolve","setTimeout","success","data","id","src","pic1","qty","text","price","pic2","abrupt","sent","stop","apply","arguments","promoCodes","PROMO10","PROMO15","PROMO20","PROMO666","applyPromoCodeRequest","_ref3","_callee3","code","result","_context3","Object","keys","indexOf","discount","_x","fetchProductsFx","createEffect","on","doneData","_","response","products","map","product","_objectSpread","filter","length","reduce","accumulator","pending","isPending","forward","from","to","$promo","$discount","$isPromoLoading","$isPromoFailed","applyPromo","removePromo","fetchPromoFx","done","params","reset","_ref2","fail","Title","currentStep","allSteps","amount","extraClass","_jsxs","className","concat","styles","header","children","_jsx","title","steps","Tab","active","handleClick","onClick","value","React","useCallback","tab","tab_type_current","Tabs","tabs","modelCart","modelPromo","AmountButton","type","button","DeleteButton","onDelete","width","height","viewBox","fill","xmlns","d","stroke","strokeWidth","strokeLinecap","strokeLinejoin","Product","useStore","discountedPrice","useMemo","toFixed","img","alt","amountbox","exPrice","Input","placeholder","inputWithBtn","inputRef","input","input_withBtn","ref","MainButton","inputButton","secondary","PromoButton","close","closeIcon","LoaderSvg","_ref$color","color","size","fillRule","transform","strokeOpacity","cx","cy","r","attributeName","dur","repeatCount","loaderSizes","small","medium","large","Loader","_ref$inverse","inverse","loaderColor","wrapperStyleKey","style","ProductsContainer","isProductsLoading","promo","isPromoLoading","isPromoFailed","useRef","useEffect","container","item","index","promo_button","current","promocode","Cart","TotalPrice","totalPrice","App","app","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f31fba01.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"product\":\"product_product__adhfE\",\"img\":\"product_img__14WMb\",\"text\":\"product_text__M6qBQ\",\"amountbox\":\"product_amountbox__26tTQ\",\"price\":\"product_price__2iW8u\",\"exPrice\":\"product_exPrice__2ave0\",\"amount\":\"product_amount__NPpRt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"products-container_container__3LFZp\",\"promo\":\"products-container_promo__2s254\",\"promo_button\":\"products-container_promo_button__hvIAf\",\"input\":\"products-container_input__1Qu_H\",\"text\":\"products-container_text__3Mca7\",\"button\":\"products-container_button__G0AnG\",\"inputWithBtn\":\"products-container_inputWithBtn__3rip_\",\"promocode\":\"products-container_promocode__1mjkn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"title_header__3KNRI\",\"title\":\"title_title__1Zx8X\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"main-button_button__ZJ9ma\",\"input\":\"main-button_input__HyfEc\",\"secondary\":\"main-button_secondary__1H4Ns\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tab\":\"tab_tab__2zosT\",\"tab_type_current\":\"tab_tab_type_current__316Ia\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"input_input__3aJoa\",\"input_withBtn\":\"input_input_withBtn__2sSnr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"promo-button_button__1knjE\",\"close\":\"promo-button_close__2qeFh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"total-price_container__16mnl\",\"text\":\"total-price_text__2kN4g\",\"price\":\"total-price_price__1dEPj\",\"buttonbox\":\"total-price_buttonbox__3qizQ\",\"button\":\"total-price_button__JB4lX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"app_app__M9MMq\",\"recommend\":\"app_recommend__10u_0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tabs\":\"tabs_tabs__1kWM3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"amount-button_button__2Cws_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"delete-button_button__11mVK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"large\":\"loader_large__ak22G\",\"medium\":\"loader_medium__1-AKz\",\"small\":\"loader_small__8jzm1\",\"wrapper_large\":\"loader_wrapper_large__3h6y0\",\"wrapper_medium\":\"loader_wrapper_medium__BFmMs\",\"wrapper_small\":\"loader_wrapper_small__3V6Cj\"};","import { createStore } from 'effector';\n\nexport const $products = createStore([]);\nexport const $isProductsLoading = createStore(false);\n\nexport const $totalPrice = createStore(0);\n","import { createEvent } from 'effector';\n\nexport const loadProducts = createEvent();\n\nexport const increaseCount = createEvent();\nexport const decreaseCount = createEvent();\nexport const deleteProduct = createEvent();\n","export default __webpack_public_path__ + \"static/media/prod-1.945fea17.jpg\";","export default __webpack_public_path__ + \"static/media/prod-2.9a2c7860.jpg\";","import pic1 from '../images/prod-1.jpg';\nimport pic2 from '../images/prod-2.jpg';\nimport rec1 from '../images/rec-1.png';\nimport rec2 from '../images/rec-2.png';\nimport rec3 from '../images/rec-3.png';\nimport rec4 from '../images/rec-4.png';\n\nexport const getItemsRequest = async () => {\n  return await new Promise(resolve =>\n    setTimeout(() => {\n      resolve({\n        success: true,\n        data: [\n          {\n            id: 1,\n            src: pic1,\n            qty: 1,\n            text:\n              'похожая на настоящую красный Мягкая приманка в виде червя силиконовый искусственный приманки рыбный запах креветок',\n            price: 120\n          },\n          {\n            id: 2,\n            src: pic2,\n            qty: 1,\n            text: 'Умное кольцо из нержавеющей стали с датчиком температуры тела, модный дисплей',\n            price: 450\n          }\n        ]\n      });\n    }, 1500)\n  );\n};\n\nexport const getRecommendedItemsRequest = async () => {\n  return await new Promise(resolve =>\n    setTimeout(() => {\n      resolve({\n        success: true,\n        data: [\n          {\n            src: rec1,\n            price: 640,\n            text: 'Деревянная подушка в виде бревна, деревянная текстура пня для украшения'\n          },\n          {\n            src: rec2,\n            price: 480,\n            text: 'Забавная 3D имитация, закусочный хлеб, мягкая подушка в форме поясницы'\n          },\n          {\n            src: rec3,\n            price: 960,\n            text: '3D моделирование формы еды плюшевая подушка креативная курица колбаса'\n          },\n          {\n            src: rec4,\n            price: 360,\n            text: 'Забавная Мужская футболка Роберт Паттинсон стоячий мем'\n          }\n        ]\n      });\n    }, 1500)\n  );\n};\n\nconst promoCodes = {\n  PROMO10: 10,\n  PROMO15: 15,\n  PROMO20: 20,\n  PROMO666: 100\n};\n\nexport const applyPromoCodeRequest = async code => {\n  const result = { success: true };\n  if (~Object.keys(promoCodes).indexOf(code)) {\n    result.discount = promoCodes[code];\n  } else {\n    result.success = false;\n    result.discount = 0;\n  }\n  return await new Promise(resolve =>\n    setTimeout(() => {\n      resolve(result);\n    }, 1500)\n  );\n};\n","export default __webpack_public_path__ + \"static/media/rec-1.32e8f9fe.png\";","export default __webpack_public_path__ + \"static/media/rec-2.fa91bc77.png\";","export default __webpack_public_path__ + \"static/media/rec-3.389187aa.png\";","export default __webpack_public_path__ + \"static/media/rec-4.ab2f9a76.png\";","import { createEffect } from 'effector';\nimport { getItemsRequest } from '../../services/fakeApi';\n\nexport const fetchProductsFx = createEffect(getItemsRequest);\n","import { forward } from 'effector';\n\nimport { $isProductsLoading, $products, $totalPrice } from './store';\nimport { decreaseCount, deleteProduct, increaseCount, loadProducts } from './events';\nimport { fetchProductsFx } from './fx';\n\n\n$products\n  .on(fetchProductsFx.doneData, (_, response) => response.data)\n  .on(increaseCount, (products, id) =>\n    products\n      .map((product) => product.id === id ? { ...product, qty: product.qty + 1 } : product))\n  .on(decreaseCount, (products, id) =>\n    products\n      .filter((product) => product.id === id ? product.qty > 1 : true)\n      .map((product) => product.id === id ? { ...product, qty: product.qty - 1 } : product))\n  .on(deleteProduct, (products, id) =>\n    products.filter((product) => product.id !== id));\n\n$totalPrice\n  .on($products, (_, products) =>\n    products.length > 0\n      ? products\n        .map(({ price, qty }) => price * qty)\n        .reduce((accumulator, price) => accumulator + price)\n      : 0\n  );\n\n$isProductsLoading\n  .on(fetchProductsFx.pending, (_, isPending) => isPending);\n\n\nforward({\n  from: loadProducts,\n  to: fetchProductsFx\n});\n","import { createStore } from 'effector';\n\nexport const $promo = createStore(null);\nexport const $discount = createStore(null);\n\nexport const $isPromoLoading = createStore(false);\nexport const $isPromoFailed = createStore(false);\n\n","import { createEvent } from 'effector';\n\nexport const applyPromo = createEvent();\nexport const removePromo = createEvent();\n","import { createEffect } from 'effector';\nimport { applyPromoCodeRequest } from '../../services/fakeApi';\n\nexport const fetchPromoFx = createEffect(applyPromoCodeRequest);\n","import { forward } from 'effector';\n\nimport { $promo, $discount, $isPromoLoading, $isPromoFailed } from './store';\nimport { applyPromo, removePromo } from './events';\nimport { fetchPromoFx } from './fx';\n\n\n$promo\n  .on(fetchPromoFx.done, (_, { params, result }) => result.success ? params : null)\n  .reset(removePromo);\n\n$discount\n  .on(fetchPromoFx.doneData, (_, { success, discount }) => success ? discount : null)\n  .reset(removePromo);\n\n$isPromoLoading\n  .on(fetchPromoFx.pending, (_, isPending) => isPending)\n  .reset(removePromo);\n\n$isPromoFailed\n  .on(fetchPromoFx.doneData, (_, result) => !result.success )\n  .on(fetchPromoFx.fail, () => true)\n  .reset(removePromo);\n\n\nforward({\n  from: applyPromo,\n  to: fetchPromoFx\n});\n","import React from 'react';\nimport styles from './title.module.css';\n\nexport const Title = ({ text, currentStep, allSteps, amount, extraClass }) => {\n  return (\n    <header className={`${styles.header} ${extraClass}`}>\n      <h2 className={styles.title}>{text}</h2>\n      {currentStep && <p className={styles.steps}>{`Шаг ${currentStep} из ${allSteps}`}</p>}\n      {amount && <p className={styles.steps}>{`${amount} товара`}</p>}\n    </header>\n  );\n};\n","import React from 'react';\nimport styles from './tab.module.css';\n\nexport const Tab = ({ text, active, onClick: handleClick, value }) => {\n  const onClick = React.useCallback(\n    () => {\n      if (typeof handleClick === 'function') {\n        handleClick(value);\n      }\n    },\n    [handleClick, value]\n  );\n\n  const className = `${styles.tab} ${active ? styles.tab_type_current : ''}`;\n  return (\n    <div className={`${className}`} onClick={onClick}>\n      {text}\n    </div>\n  );\n};\n","import React from 'react';\nimport styles from './tabs.module.css';\nimport { Tab } from './tab';\n\nexport const Tabs = () => {\n  return (\n    <div className={`${styles.tabs}`}>\n      <Tab text=\"Товары в корзине\" value=\"items\" active />\n    </div>\n  );\n};\n","import { $isProductsLoading, $products, $totalPrice } from './store';\nimport { loadProducts, increaseCount, decreaseCount, deleteProduct } from './events';\n\nexport const modelCart = {\n  $products,\n  $isProductsLoading,\n  $totalPrice,\n  loadProducts,\n  increaseCount,\n  decreaseCount,\n  deleteProduct\n};\n","import { $promo, $discount, $isPromoLoading, $isPromoFailed } from './store';\nimport { applyPromo, removePromo } from './events';\n\nexport const modelPromo = {\n  $promo,\n  $discount,\n  $isPromoLoading,\n  $isPromoFailed,\n  applyPromo,\n  removePromo\n};\n","import React from 'react';\nimport styles from './amount-button.module.css';\n\nexport const AmountButton = ({ children, extraClass, onClick }) => {\n  return (\n    <button type=\"button\" onClick={onClick} className={`${styles.button} ${extraClass}`}>\n      {children}\n    </button>\n  );\n};\n","import React from 'react';\nimport styles from './delete-button.module.css';\n\nexport const DeleteButton = ({ extraClass, onDelete }) => {\n  return (\n    <button type=\"button\" className={`${styles.button} ${extraClass}`} onClick={onDelete}>\n      <svg\n        width=\"24\"\n        height=\"24\"\n        viewBox=\"0 0 24 24\"\n        fill=\"none\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n      >\n        <path\n          d=\"M3 6H5H21\"\n          stroke=\"#FF0000\"\n          strokeWidth=\"2\"\n          strokeLinecap=\"round\"\n          strokeLinejoin=\"round\"\n        />\n        <path\n          d=\"M8 6V4C8 3.46957 8.21071 2.96086 8.58579 2.58579C8.96086 2.21071 9.46957 2 10 2H14C14.5304 2 15.0391 2.21071 15.4142 2.58579C15.7893 2.96086 16 3.46957 16 4V6M19 6V20C19 20.5304 18.7893 21.0391 18.4142 21.4142C18.0391 21.7893 17.5304 22 17 22H7C6.46957 22 5.96086 21.7893 5.58579 21.4142C5.21071 21.0391 5 20.5304 5 20V6H19Z\"\n          stroke=\"#FF0000\"\n          strokeWidth=\"2\"\n          strokeLinecap=\"round\"\n          strokeLinejoin=\"round\"\n        />\n        <path\n          d=\"M10 11V17\"\n          stroke=\"#FF0000\"\n          strokeWidth=\"2\"\n          strokeLinecap=\"round\"\n          strokeLinejoin=\"round\"\n        />\n        <path\n          d=\"M14 11V17\"\n          stroke=\"#FF0000\"\n          strokeWidth=\"2\"\n          strokeLinecap=\"round\"\n          strokeLinejoin=\"round\"\n        />\n      </svg>\n    </button>\n  );\n};\n","import React, { useMemo } from 'react';\nimport { useStore } from 'effector-react';\n\nimport { modelCart } from '../../models/cart';\nimport { modelPromo } from '../../models/promo';\n\nimport { AmountButton } from '../../ui/amount-button/amount-button';\nimport { DeleteButton } from '../../ui/delete-button/delete-button';\nimport styles from './product.module.css';\n\nexport const Product = ({ src, id, text, qty, price }) => {\n  const discount = useStore(modelPromo.$discount);\n\n  const discountedPrice = useMemo(() =>\n      ((price - price * (discount / 100)) * qty).toFixed(0),\n    [discount, price, qty]\n  );\n\n  const increase = () => {\n    modelCart.increaseCount(id);\n  };\n\n  const decrease = () => {\n    modelCart.decreaseCount(id);\n  };\n\n  const onDelete = () => {\n    modelCart.deleteProduct(id);\n  };\n\n  return (\n    <div className={`${styles.product}`}>\n      <img className={styles.img} src={src} alt='фото товара.' />\n      <p className={styles.text}>{text}</p>\n      <div className={styles.amountbox}>\n        <AmountButton onClick={decrease}>-</AmountButton>\n        <p className={styles.amount}>{qty}</p>\n        <AmountButton onClick={increase}>+</AmountButton>\n      </div>\n      <div className={styles.price}>\n        <p className={`${styles.price} ${discount && styles.exPrice}`}>{price * qty} руб.</p>\n        {discount && <p className={styles.price}>{discountedPrice} руб.</p>}\n      </div>\n      <DeleteButton onDelete={onDelete} />\n    </div>\n  );\n};\n","import React from 'react';\nimport styles from './input.module.css';\n\nexport const Input = ({ type, placeholder, inputWithBtn, extraClass, inputRef }) => {\n  const className = `${styles.input} ${extraClass} ${inputWithBtn ? styles.input_withBtn : ''}`;\n  return <input type={type} className={className} placeholder={placeholder} ref={inputRef} />;\n};\n","import React from 'react';\nimport styles from './main-button.module.css';\n\nexport const MainButton = ({ type, children, extraClass, inputButton, secondary, onClick }) => {\n  const className = `${styles.button} ${extraClass} ${inputButton ? styles.input : ''} ${\n    secondary ? styles.secondary : ''\n  }`;\n  return (\n    <button onClick={onClick} type={type} className={className}>\n      {children}\n    </button>\n  );\n};\n","export default __webpack_public_path__ + \"static/media/close.5d87d919.svg\";","import React from 'react';\n\nimport { modelPromo } from '../../models/promo';\n\nimport styles from './promo-button.module.css';\nimport closeIcon from '../../images/close.svg';\n\nexport const PromoButton = ({ children, extraClass }) => {\n  const cancelPromo = () => {\n    modelPromo.removePromo()\n  };\n\n  return (\n    <button type=\"button\" className={`${styles.button} ${extraClass}`} onClick={cancelPromo}>\n      {children}\n      <img className={styles.close} src={closeIcon} alt=\"кнопка закрытия\" />\n    </button>\n  );\n};\n","export const LoaderSvg = ({ color = '#3C39EC', size }) => {\n  return (\n    <svg\n      width={size}\n      height={size}\n      viewBox=\"0 0 38 38\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      stroke={color}\n    >\n      <g fill=\"none\" fillRule=\"evenodd\">\n        <g transform=\"translate(1 1)\" strokeWidth=\"2\">\n          <circle strokeOpacity=\".5\" cx=\"18\" cy=\"18\" r=\"18\" />\n          <path d=\"M36 18c0-9.94-8.06-18-18-18\">\n            <animateTransform\n              attributeName=\"transform\"\n              type=\"rotate\"\n              from=\"0 18 18\"\n              to=\"360 18 18\"\n              dur=\"1s\"\n              repeatCount=\"indefinite\"\n            />\n          </path>\n        </g>\n      </g>\n    </svg>\n  );\n};\n","import style from './loader.module.css';\nimport { LoaderSvg } from './loader.svg';\n\nconst loaderSizes = {\n  small: 16,\n  medium: 24,\n  large: 40\n};\nexport const Loader = ({ size, inverse = false }) => {\n  const loaderColor = inverse ? '#fff' : '#3C39EC';\n\n  const wrapperStyleKey = 'wrapper_' + size;\n  return (\n    <div className={style[wrapperStyleKey]}>\n      <LoaderSvg color={loaderColor} size={loaderSizes[size]} />\n    </div>\n  );\n};\n","import React, { useEffect, useRef } from 'react';\nimport { useStore } from 'effector-react';\n\nimport { modelCart } from '../../models/cart';\nimport { modelPromo } from '../../models/promo';\n\nimport styles from './products-container.module.css';\nimport { Product } from './product';\nimport { Input } from '../../ui/input/input';\nimport { MainButton } from '../../ui/main-button/main-button';\nimport { PromoButton } from '../../ui/promo-button/promo-button';\nimport { Loader } from '../../ui/loader/loader';\n\n\nexport const ProductsContainer = () => {\n  const products = useStore(modelCart.$products);\n  const isProductsLoading = useStore(modelCart.$isProductsLoading);\n\n  const promo = useStore(modelPromo.$promo);\n  const isPromoLoading = useStore(modelPromo.$isPromoLoading);\n  const isPromoFailed = useStore(modelPromo.$isPromoFailed);\n\n\n  const inputRef = useRef(null);\n\n  useEffect(() => {\n    modelCart.loadProducts();\n  }, []);\n\n  const handleApplyPromo = () => {\n    modelPromo.applyPromo(inputRef.current.value);\n  };\n\n  return (\n    <div className={`${styles.container}`}>\n      {\n        isProductsLoading\n          ? <Loader size='large' />\n          : products.map((item, index) => <Product key={index} {...item} />)\n      }\n      <div className={styles.promo}>\n        <div className={styles.inputWithBtn}>\n          <Input\n            type='text'\n            placeholder='Введите промокод'\n            extraClass={styles.input}\n            inputWithBtn={true}\n            inputRef={inputRef}\n          />\n          <MainButton\n            type='button'\n            extraClass={styles.promo_button}\n            inputButton={true}\n            onClick={handleApplyPromo}\n          >\n            {isPromoLoading ? <Loader size='small' inverse={true} /> : 'Применить'}\n          </MainButton>\n        </div>\n        {promo && <PromoButton extraClass={styles.promocode}>{promo}</PromoButton>}\n      </div>\n      {promo && <p className={styles.text}>Промокод успешно применён!</p>}\n      {isPromoFailed && <p className={styles.text}>Произошла ошибка! Проверьте корректность введенного промокода</p>}\n    </div>\n  );\n};\n","import React from 'react';\nimport { Tabs } from './tabs';\nimport { ProductsContainer } from './products-container';\n\nexport const Cart = () => {\n  return (\n    <section>\n      <Tabs />\n      <ProductsContainer />\n    </section>\n  );\n};\n","import React from 'react';\nimport { useStore } from 'effector-react';\n\nimport { modelCart } from '../../models/cart';\nimport { modelPromo } from '../../models/promo';\n\nimport styles from './total-price.module.css';\n\n\nexport const TotalPrice = ({ extraClass }) => {\n  const totalPrice = useStore(modelCart.$totalPrice);\n  const discount = useStore(modelPromo.$discount);\n\n  return (\n    <div className={`${styles.container} ${extraClass}`}>\n      <p className={styles.text}>Итого:</p>\n      <p>\n        {\n          discount\n            ? `${(totalPrice - totalPrice * (discount / 100)).toFixed(0)} руб.`\n            : totalPrice\n        }\n      </p>\n    </div>\n  );\n};\n","import React from 'react';\nimport styles from './app.module.css';\nimport { Title } from '../../ui/title/title';\nimport { Cart } from '../cart';\nimport { TotalPrice } from '../common/total-price';\n\n\nfunction App() {\n  return (\n    <div className={styles.app}>\n      <Title text={'Корзина'} />\n      <Cart />\n      <TotalPrice />\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import './models/init';\nimport './index.css';\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './components/app/app';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}