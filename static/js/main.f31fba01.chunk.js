(this["webpackJsonpredux-task"]=this["webpackJsonpredux-task"]||[]).push([[0],[,,,,,,function(t,e,n){t.exports={product:"product_product__adhfE",img:"product_img__14WMb",text:"product_text__M6qBQ",amountbox:"product_amountbox__26tTQ",price:"product_price__2iW8u",exPrice:"product_exPrice__2ave0",amount:"product_amount__NPpRt"}},function(t,e,n){t.exports={container:"products-container_container__3LFZp",promo:"products-container_promo__2s254",promo_button:"products-container_promo_button__hvIAf",input:"products-container_input__1Qu_H",text:"products-container_text__3Mca7",button:"products-container_button__G0AnG",inputWithBtn:"products-container_inputWithBtn__3rip_",promocode:"products-container_promocode__1mjkn"}},,,,function(t,e,n){t.exports={header:"title_header__3KNRI",title:"title_title__1Zx8X"}},,function(t,e,n){t.exports={button:"main-button_button__ZJ9ma",input:"main-button_input__HyfEc",secondary:"main-button_secondary__1H4Ns"}},,function(t,e,n){t.exports={tab:"tab_tab__2zosT",tab_type_current:"tab_tab_type_current__316Ia"}},function(t,e,n){t.exports={input:"input_input__3aJoa",input_withBtn:"input_input_withBtn__2sSnr"}},function(t,e,n){t.exports={button:"promo-button_button__1knjE",close:"promo-button_close__2qeFh"}},function(t,e,n){t.exports={container:"total-price_container__16mnl",text:"total-price_text__2kN4g",price:"total-price_price__1dEPj",buttonbox:"total-price_buttonbox__3qizQ",button:"total-price_button__JB4lX"}},,function(t,e,n){t.exports={app:"app_app__M9MMq",recommend:"app_recommend__10u_0"}},function(t,e,n){t.exports={tabs:"tabs_tabs__1kWM3"}},function(t,e,n){t.exports={button:"amount-button_button__2Cws_"}},function(t,e,n){t.exports={button:"delete-button_button__11mVK"}},function(t,e,n){t.exports={large:"loader_large__ak22G",medium:"loader_medium__1-AKz",small:"loader_small__8jzm1",wrapper_large:"loader_wrapper_large__3h6y0",wrapper_medium:"loader_wrapper_medium__BFmMs",wrapper_small:"loader_wrapper_small__3V6Cj"}},,function(t,e,n){},,,,,,function(t,e,n){"use strict";n.r(e);var c=n(4),r=n(1),o=Object(r.e)([]),a=Object(r.e)(!1),s=Object(r.e)(0),i=Object(r.d)(),u=Object(r.d)(),p=Object(r.d)(),d=Object(r.d)(),l=n(8),j=n.n(l),b=n(12),_=n.p+"static/media/prod-1.945fea17.jpg",x=n.p+"static/media/prod-2.9a2c7860.jpg",m=(n.p,n.p,n.p,n.p,function(){var t=Object(b.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(t){return setTimeout((function(){t({success:!0,data:[{id:1,src:_,qty:1,text:"\u043f\u043e\u0445\u043e\u0436\u0430\u044f \u043d\u0430 \u043d\u0430\u0441\u0442\u043e\u044f\u0449\u0443\u044e \u043a\u0440\u0430\u0441\u043d\u044b\u0439 \u041c\u044f\u0433\u043a\u0430\u044f \u043f\u0440\u0438\u043c\u0430\u043d\u043a\u0430 \u0432 \u0432\u0438\u0434\u0435 \u0447\u0435\u0440\u0432\u044f \u0441\u0438\u043b\u0438\u043a\u043e\u043d\u043e\u0432\u044b\u0439 \u0438\u0441\u043a\u0443\u0441\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439 \u043f\u0440\u0438\u043c\u0430\u043d\u043a\u0438 \u0440\u044b\u0431\u043d\u044b\u0439 \u0437\u0430\u043f\u0430\u0445 \u043a\u0440\u0435\u0432\u0435\u0442\u043e\u043a",price:120},{id:2,src:x,qty:1,text:"\u0423\u043c\u043d\u043e\u0435 \u043a\u043e\u043b\u044c\u0446\u043e \u0438\u0437 \u043d\u0435\u0440\u0436\u0430\u0432\u0435\u044e\u0449\u0435\u0439 \u0441\u0442\u0430\u043b\u0438 \u0441 \u0434\u0430\u0442\u0447\u0438\u043a\u043e\u043c \u0442\u0435\u043c\u043f\u0435\u0440\u0430\u0442\u0443\u0440\u044b \u0442\u0435\u043b\u0430, \u043c\u043e\u0434\u043d\u044b\u0439 \u0434\u0438\u0441\u043f\u043b\u0435\u0439",price:450}]})}),1500)}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()),O={PROMO10:10,PROMO15:15,PROMO20:20,PROMO666:100},f=function(){var t=Object(b.a)(j.a.mark((function t(e){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={success:!0},~Object.keys(O).indexOf(e)?n.discount=O[e]:(n.success=!1,n.discount=0),t.next=4,new Promise((function(t){return setTimeout((function(){t(n)}),1500)}));case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),h=Object(r.c)(m);o.on(h.doneData,(function(t,e){return e.data})).on(u,(function(t,e){return t.map((function(t){return t.id===e?Object(c.a)(Object(c.a)({},t),{},{qty:t.qty+1}):t}))})).on(p,(function(t,e){return t.filter((function(t){return t.id!==e||t.qty>1})).map((function(t){return t.id===e?Object(c.a)(Object(c.a)({},t),{},{qty:t.qty-1}):t}))})).on(d,(function(t,e){return t.filter((function(t){return t.id!==e}))})),s.on(o,(function(t,e){return e.length>0?e.map((function(t){return t.price*t.qty})).reduce((function(t,e){return t+e})):0})),a.on(h.pending,(function(t,e){return e})),Object(r.f)({from:i,to:h});var v=Object(r.e)(null),C=Object(r.e)(null),k=Object(r.e)(!1),g=Object(r.e)(!1),y=Object(r.d)(),N=Object(r.d)(),w=Object(r.c)(f);v.on(w.done,(function(t,e){var n=e.params;return e.result.success?n:null})).reset(N),C.on(w.doneData,(function(t,e){var n=e.success,c=e.discount;return n?c:null})).reset(N),k.on(w.pending,(function(t,e){return e})).reset(N),g.on(w.doneData,(function(t,e){return!e.success})).on(w.fail,(function(){return!0})).reset(N),Object(r.f)({from:y,to:w});n(26);var P=n(2),M=n.n(P),F=n(19),B=n.n(F),L=n(20),$=n.n(L),q=n(11),W=n.n(q),R=n(0),z=function(t){var e=t.text,n=t.currentStep,c=t.allSteps,r=t.amount,o=t.extraClass;return Object(R.jsxs)("header",{className:"".concat(W.a.header," ").concat(o),children:[Object(R.jsx)("h2",{className:W.a.title,children:e}),n&&Object(R.jsx)("p",{className:W.a.steps,children:"\u0428\u0430\u0433 ".concat(n," \u0438\u0437 ").concat(c)}),r&&Object(R.jsx)("p",{className:W.a.steps,children:"".concat(r," \u0442\u043e\u0432\u0430\u0440\u0430")})]})},E=n(21),H=n.n(E),V=n(15),T=n.n(V),D=function(t){var e=t.text,n=t.active,c=t.onClick,r=t.value,o=M.a.useCallback((function(){"function"===typeof c&&c(r)}),[c,r]),a="".concat(T.a.tab," ").concat(n?T.a.tab_type_current:"");return Object(R.jsx)("div",{className:"".concat(a),onClick:o,children:e})},I=function(){return Object(R.jsx)("div",{className:"".concat(H.a.tabs),children:Object(R.jsx)(D,{text:"\u0422\u043e\u0432\u0430\u0440\u044b \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0435",value:"items",active:!0})})},J=n(5),S={$products:o,$isProductsLoading:a,$totalPrice:s,loadProducts:i,increaseCount:u,decreaseCount:p,deleteProduct:d},Q={$promo:v,$discount:C,$isPromoLoading:k,$isPromoFailed:g,applyPromo:y,removePromo:N},Z=n(7),A=n.n(Z),G=n(22),K=n.n(G),X=function(t){var e=t.children,n=t.extraClass,c=t.onClick;return Object(R.jsx)("button",{type:"button",onClick:c,className:"".concat(K.a.button," ").concat(n),children:e})},U=n(23),Y=n.n(U),tt=function(t){var e=t.extraClass,n=t.onDelete;return Object(R.jsx)("button",{type:"button",className:"".concat(Y.a.button," ").concat(e),onClick:n,children:Object(R.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(R.jsx)("path",{d:"M3 6H5H21",stroke:"#FF0000",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),Object(R.jsx)("path",{d:"M8 6V4C8 3.46957 8.21071 2.96086 8.58579 2.58579C8.96086 2.21071 9.46957 2 10 2H14C14.5304 2 15.0391 2.21071 15.4142 2.58579C15.7893 2.96086 16 3.46957 16 4V6M19 6V20C19 20.5304 18.7893 21.0391 18.4142 21.4142C18.0391 21.7893 17.5304 22 17 22H7C6.46957 22 5.96086 21.7893 5.58579 21.4142C5.21071 21.0391 5 20.5304 5 20V6H19Z",stroke:"#FF0000",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),Object(R.jsx)("path",{d:"M10 11V17",stroke:"#FF0000",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),Object(R.jsx)("path",{d:"M14 11V17",stroke:"#FF0000",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})})},et=n(6),nt=n.n(et),ct=function(t){var e=t.src,n=t.id,c=t.text,r=t.qty,o=t.price,a=Object(J.a)(Q.$discount),s=Object(P.useMemo)((function(){return((o-o*(a/100))*r).toFixed(0)}),[a,o,r]);return Object(R.jsxs)("div",{className:"".concat(nt.a.product),children:[Object(R.jsx)("img",{className:nt.a.img,src:e,alt:"\u0444\u043e\u0442\u043e \u0442\u043e\u0432\u0430\u0440\u0430."}),Object(R.jsx)("p",{className:nt.a.text,children:c}),Object(R.jsxs)("div",{className:nt.a.amountbox,children:[Object(R.jsx)(X,{onClick:function(){S.decreaseCount(n)},children:"-"}),Object(R.jsx)("p",{className:nt.a.amount,children:r}),Object(R.jsx)(X,{onClick:function(){S.increaseCount(n)},children:"+"})]}),Object(R.jsxs)("div",{className:nt.a.price,children:[Object(R.jsxs)("p",{className:"".concat(nt.a.price," ").concat(a&&nt.a.exPrice),children:[o*r," \u0440\u0443\u0431."]}),a&&Object(R.jsxs)("p",{className:nt.a.price,children:[s," \u0440\u0443\u0431."]})]}),Object(R.jsx)(tt,{onDelete:function(){S.deleteProduct(n)}})]})},rt=n(16),ot=n.n(rt),at=function(t){var e=t.type,n=t.placeholder,c=t.inputWithBtn,r=t.extraClass,o=t.inputRef,a="".concat(ot.a.input," ").concat(r," ").concat(c?ot.a.input_withBtn:"");return Object(R.jsx)("input",{type:e,className:a,placeholder:n,ref:o})},st=n(13),it=n.n(st),ut=function(t){var e=t.type,n=t.children,c=t.extraClass,r=t.inputButton,o=t.secondary,a=t.onClick,s="".concat(it.a.button," ").concat(c," ").concat(r?it.a.input:""," ").concat(o?it.a.secondary:"");return Object(R.jsx)("button",{onClick:a,type:e,className:s,children:n})},pt=n(17),dt=n.n(pt),lt=n.p+"static/media/close.5d87d919.svg",jt=function(t){var e=t.children,n=t.extraClass;return Object(R.jsxs)("button",{type:"button",className:"".concat(dt.a.button," ").concat(n),onClick:function(){Q.removePromo()},children:[e,Object(R.jsx)("img",{className:dt.a.close,src:lt,alt:"\u043a\u043d\u043e\u043f\u043a\u0430 \u0437\u0430\u043a\u0440\u044b\u0442\u0438\u044f"})]})},bt=n(24),_t=n.n(bt),xt=function(t){var e=t.color,n=void 0===e?"#3C39EC":e,c=t.size;return Object(R.jsx)("svg",{width:c,height:c,viewBox:"0 0 38 38",xmlns:"http://www.w3.org/2000/svg",stroke:n,children:Object(R.jsx)("g",{fill:"none",fillRule:"evenodd",children:Object(R.jsxs)("g",{transform:"translate(1 1)",strokeWidth:"2",children:[Object(R.jsx)("circle",{strokeOpacity:".5",cx:"18",cy:"18",r:"18"}),Object(R.jsx)("path",{d:"M36 18c0-9.94-8.06-18-18-18",children:Object(R.jsx)("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"1s",repeatCount:"indefinite"})})]})})})},mt={small:16,medium:24,large:40},Ot=function(t){var e=t.size,n=t.inverse,c=void 0!==n&&n?"#fff":"#3C39EC",r="wrapper_"+e;return Object(R.jsx)("div",{className:_t.a[r],children:Object(R.jsx)(xt,{color:c,size:mt[e]})})},ft=function(){var t=Object(J.a)(S.$products),e=Object(J.a)(S.$isProductsLoading),n=Object(J.a)(Q.$promo),r=Object(J.a)(Q.$isPromoLoading),o=Object(J.a)(Q.$isPromoFailed),a=Object(P.useRef)(null);Object(P.useEffect)((function(){S.loadProducts()}),[]);return Object(R.jsxs)("div",{className:"".concat(A.a.container),children:[e?Object(R.jsx)(Ot,{size:"large"}):t.map((function(t,e){return Object(R.jsx)(ct,Object(c.a)({},t),e)})),Object(R.jsxs)("div",{className:A.a.promo,children:[Object(R.jsxs)("div",{className:A.a.inputWithBtn,children:[Object(R.jsx)(at,{type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0440\u043e\u043c\u043e\u043a\u043e\u0434",extraClass:A.a.input,inputWithBtn:!0,inputRef:a}),Object(R.jsx)(ut,{type:"button",extraClass:A.a.promo_button,inputButton:!0,onClick:function(){Q.applyPromo(a.current.value)},children:r?Object(R.jsx)(Ot,{size:"small",inverse:!0}):"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c"})]}),n&&Object(R.jsx)(jt,{extraClass:A.a.promocode,children:n})]}),n&&Object(R.jsx)("p",{className:A.a.text,children:"\u041f\u0440\u043e\u043c\u043e\u043a\u043e\u0434 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043f\u0440\u0438\u043c\u0435\u043d\u0451\u043d!"}),o&&Object(R.jsx)("p",{className:A.a.text,children:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430! \u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e\u0441\u0442\u044c \u0432\u0432\u0435\u0434\u0435\u043d\u043d\u043e\u0433\u043e \u043f\u0440\u043e\u043c\u043e\u043a\u043e\u0434\u0430"})]})},ht=function(){return Object(R.jsxs)("section",{children:[Object(R.jsx)(I,{}),Object(R.jsx)(ft,{})]})},vt=n(18),Ct=n.n(vt),kt=function(t){var e=t.extraClass,n=Object(J.a)(S.$totalPrice),c=Object(J.a)(Q.$discount);return Object(R.jsxs)("div",{className:"".concat(Ct.a.container," ").concat(e),children:[Object(R.jsx)("p",{className:Ct.a.text,children:"\u0418\u0442\u043e\u0433\u043e:"}),Object(R.jsx)("p",{children:c?"".concat((n-n*(c/100)).toFixed(0)," \u0440\u0443\u0431."):n})]})};var gt=function(){return Object(R.jsxs)("div",{className:$.a.app,children:[Object(R.jsx)(z,{text:"\u041a\u043e\u0440\u0437\u0438\u043d\u0430"}),Object(R.jsx)(ht,{}),Object(R.jsx)(kt,{})]})},yt=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,33)).then((function(e){var n=e.getCLS,c=e.getFID,r=e.getFCP,o=e.getLCP,a=e.getTTFB;n(t),c(t),r(t),o(t),a(t)}))};B.a.render(Object(R.jsx)(M.a.StrictMode,{children:Object(R.jsx)(gt,{})}),document.getElementById("root")),yt()}],[[32,1,2]]]);
//# sourceMappingURL=main.f31fba01.chunk.js.map